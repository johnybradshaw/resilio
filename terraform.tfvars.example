# terraform.tfvars.example
# Copy this file to terraform.tfvars and fill in your values
# IMPORTANT: Never commit terraform.tfvars to version control!

# ============================================================================
# Required Variables - Must be configured
# ============================================================================

# Linode API token (get from: https://cloud.linode.com/profile/tokens)
linode_token = ""

# Your SSH public key content (e.g., from ~/.ssh/id_rsa.pub)
ssh_public_key = ""

# Resilio Sync folders with per-folder volumes (RECOMMENDED)
# Each folder gets its own dedicated volume with independent sizing
# Format: { folder_name = { key = "SYNC_KEY", size = SIZE_IN_GB } }
# Folder names: 2-32 chars, lowercase alphanumeric with hyphens
# Volume size: 10-10000 GB per folder
# Maximum: 13 folders per instance
resilio_folders = {
  # documents = { key = "BXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX", size = 50 }
  # photos    = { key = "BYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY", size = 200 }
  # backups   = { key = "BZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ", size = 500 }
}

# [DEPRECATED] Legacy folder keys (use resilio_folders instead)
# These are kept for backward compatibility only
# resilio_folder_keys = []
# resilio_folder_key = ""

# Resilio Sync license key (for paid features)
resilio_license_key = ""

# Top-Level Domain for DNS configuration
# This domain will be managed by Linode DNS
# After deployment, configure your registrar to use Linode nameservers
tld = "example.com"

# Include project name in DNS records
# true:  us-east.resilio-sync.example.com (default)
# false: us-east.example.com
# dns_include_project_name = true

# Ubuntu Advantage token for Ubuntu Pro features (optional but recommended)
ubuntu_advantage_token = ""

# ============================================================================
# Optional Variables - Have sensible defaults
# ============================================================================

# List of Linode regions to deploy instances
# Available regions: https://www.linode.com/docs/products/platform/get-started/guides/choose-a-data-center/
# Default: ["us-east", "eu-west"]
regions = ["us-east", "eu-west"]

# Linode instance type
# View options: linode-cli linodes types
# Default: "g6-standard-1"
instance_type = "g6-standard-2"

# [DEPRECATED] Legacy single volume size (use resilio_folders sizes instead)
# With per-folder volumes, each folder has its own size in resilio_folders
# This is only used for backward compatibility if resilio_folders is empty
# volume_size = 100

# Project name prefix for all resources
# Default: "resilio-sync"
project_name = "resilio-sync"

# CIDR block allowed for SSH/ping access to jumpbox
# Default: Auto-detects your current public IP when you run terraform
# Leave commented out to auto-detect, or set explicitly if needed
# SECURITY: Auto-detection provides good security by default!
# allowed_ssh_cidr = "1.2.3.4/32"  # Optional: Set manually if needed
# allowed_ssh_cidr = "0.0.0.0/0"   # NOT RECOMMENDED: Allow from anywhere

# Jumpbox (bastion host) configuration
# The jumpbox provides secure SSH access to resilio instances
# Default region: "us-east"
# jumpbox_region = "us-east"

# Jumpbox instance type (small instance is sufficient for bastion)
# Default: "g6-nanode-1" (1GB RAM, 1 vCPU)
# jumpbox_instance_type = "g6-nanode-1"

# Tags to apply to all resources
# Default: ["deployment: terraform", "app: resilio"]
tags = ["deployment: terraform", "app: resilio", "environment: production"]

# Non-root user for SSH access and management
# This user will be created on all instances with sudo privileges
# Default: "ac-user"
# cloud_user = "ac-user"

# ============================================================================
# SSL/TLS Certificate Configuration
# ============================================================================

# ACME server URL for Let's Encrypt certificates
# Production (default): "https://acme-v02.api.letsencrypt.org/directory"
# Staging (for testing): "https://acme-staging-v02.api.letsencrypt.org/directory"
# IMPORTANT: Use staging for initial testing to avoid rate limits!
# acme_server_url = "https://acme-v02.api.letsencrypt.org/directory"

# ============================================================================
# Backup Configuration - Linode Object Storage
# ============================================================================

# Option 1: Terraform-managed backups (RECOMMENDED)
# Set backup_enabled = true to let Terraform create and manage buckets/keys

# Enable Terraform-managed Object Storage backups
# When true, Terraform creates buckets and access keys automatically
# Default: false
# backup_enabled = true

# Regions for backup storage destinations (where backups are stored)
# IMPORTANT: Object Storage uses different region IDs than compute instances!
# Compute regions: us-east, eu-west, ap-south, etc.
# Object Storage regions: us-east-1, eu-central-1, ap-south-1, etc.
# Valid Object Storage regions:
#   us-east-1, us-southeast-1, us-iad-1, us-ord-1, us-sea-1 (Americas)
#   eu-central-1, fr-par-1, se-sto-1 (Europe)
#   ap-south-1, jp-osa-1, in-maa-1, id-cgk-1, au-mel-1 (Asia-Pacific)
#   br-gru-1 (South America)
# Default: ["us-east-1"]
# backup_storage_regions = ["us-east-1", "eu-central-1"]

# VM regions that should run backups (which VMs push to storage)
# Only one region needed since all VMs have same data via Resilio Sync
# Default: []
# backup_source_regions = ["us-east"]

# Enable object versioning on backup buckets (recommended)
# Allows point-in-time recovery of files
# Default: true
# backup_versioning = true

# Days to retain backup versions before cleanup
# Set to 0 to keep forever
# Default: 90
# backup_retention_days = 90

# Backup scheduling mode:
#   "scheduled" - Traditional cron-based backups (default)
#   "realtime"  - inotify-based immediate backup on file changes
#   "hybrid"    - Both scheduled full + realtime incremental backups
# Default: "scheduled"
# backup_mode = "scheduled"

# Cron schedule for backups (used in scheduled and hybrid modes)
# Default: "0 2 * * *" (daily at 2 AM)
# backup_schedule = "0 2 * * *"

# Number of parallel file transfers (1-32)
# Higher = faster but more CPU/IO usage
# Default: 8
# backup_transfers = 8

# Bandwidth limit for backups (e.g., "10M" for 10MB/s)
# Empty = unlimited
# Default: ""
# backup_bandwidth_limit = ""

# ----------------------------------------------------------------------------
# Option 2: Legacy manual configuration (use if backup_enabled = false)
# ----------------------------------------------------------------------------

# [LEGACY] Manual Object Storage credentials
# Only used if backup_enabled = false
# object_storage_access_key = "CHANGEME"
# object_storage_secret_key = "CHANGEME"
# object_storage_endpoint = "us-east-1.linodeobjects.com"
# object_storage_bucket = "resilio-backups"

# [DEPRECATED] Use backup_source_regions instead
# backup_regions = ["us-east"]
